<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>action.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Action.html">Action</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Action.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Action.html#removeBraces">removeBraces</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Action.html#removeComma">removeComma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Action.html#removeSpace">removeSpace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Action.html#rewrittenSource">rewrittenSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Action.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Action.html#squeezeLines">squeezeLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Action.html#squeezeSpaces">squeezeSpaces</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="AppendAction.html">AppendAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AppendAction.html#calculatePositions">calculatePositions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AppendAction.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AppendAction.html#removeBraces">removeBraces</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AppendAction.html#removeComma">removeComma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AppendAction.html#removeSpace">removeSpace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AppendAction.html#rewrittenSource">rewrittenSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AppendAction.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AppendAction.html#squeezeLines">squeezeLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AppendAction.html#squeezeSpaces">squeezeSpaces</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Array.html">Array</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Array.html#first">first</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Array.html#last">last</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Array.html#toSource">toSource</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CommentOutAction.html">CommentOutAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CommentOutAction.html#calculatePositions">calculatePositions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CommentOutAction.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CommentOutAction.html#removeBraces">removeBraces</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CommentOutAction.html#removeComma">removeComma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CommentOutAction.html#removeSpace">removeSpace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CommentOutAction.html#rewrittenSource">rewrittenSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CommentOutAction.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CommentOutAction.html#squeezeLines">squeezeLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CommentOutAction.html#squeezeSpaces">squeezeSpaces</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Condition.html">Condition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Condition.html#process">process</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Configuration.html">Configuration</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="DeleteAction.html">DeleteAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DeleteAction.html#calculatePositions">calculatePositions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DeleteAction.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DeleteAction.html#removeBraces">removeBraces</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DeleteAction.html#removeComma">removeComma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DeleteAction.html#removeSpace">removeSpace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DeleteAction.html#rewrittenSource">rewrittenSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DeleteAction.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DeleteAction.html#squeezeLines">squeezeLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DeleteAction.html#squeezeSpaces">squeezeSpaces</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="EspreeAdapter.html">EspreeAdapter</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="GotoScope.html">GotoScope</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="GotoScope.html#process">process</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="IfAllCondition.html">IfAllCondition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="IfAllCondition.html#process">process</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="IfExistCondition.html">IfExistCondition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="IfExistCondition.html#match">match</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="IfExistCondition.html#process">process</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="IfOnlyExistCondition.html">IfOnlyExistCondition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="IfOnlyExistCondition.html#match">match</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="IfOnlyExistCondition.html#process">process</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="InsertAction.html">InsertAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="InsertAction.html#calculatePositions">calculatePositions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="InsertAction.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="InsertAction.html#removeBraces">removeBraces</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="InsertAction.html#removeComma">removeComma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="InsertAction.html#removeSpace">removeSpace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="InsertAction.html#rewrittenSource">rewrittenSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="InsertAction.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="InsertAction.html#squeezeLines">squeezeLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="InsertAction.html#squeezeSpaces">squeezeSpaces</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Instance.html">Instance</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#commentOut">commentOut</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#findNode">findNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#gotoNode">gotoNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#ifAllNodes">ifAllNodes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#ifExistNode">ifExistNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#ifOnlyExistNode">ifOnlyExistNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#insert">insert</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#prepend">prepend</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#processWithNode">processWithNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#processWithOtherNode">processWithOtherNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#replace">replace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#replaceWith">replaceWith</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#unlessExistNode">unlessExistNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#withinNode">withinNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#withNode">withNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Instance.html#withNode">withNode</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Node.html">Node</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="NodeVersion.html">NodeVersion</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="NodeVersion.html#match">match</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="NotSupportedError.html">NotSupportedError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="NpmVersion.html">NpmVersion</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="NpmVersion.html#match">match</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="PrependAction.html">PrependAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PrependAction.html#calculatePositions">calculatePositions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PrependAction.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PrependAction.html#removeBraces">removeBraces</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PrependAction.html#removeComma">removeComma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PrependAction.html#removeSpace">removeSpace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PrependAction.html#rewrittenSource">rewrittenSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PrependAction.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PrependAction.html#squeezeLines">squeezeLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PrependAction.html#squeezeSpaces">squeezeSpaces</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="QueryScope.html">QueryScope</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="QueryScope.html#process">process</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RemoveAction.html">RemoveAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RemoveAction.html#calculatePositions">calculatePositions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RemoveAction.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RemoveAction.html#removeBraces">removeBraces</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RemoveAction.html#removeComma">removeComma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RemoveAction.html#removeSpace">removeSpace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RemoveAction.html#rewrittenSource">rewrittenSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RemoveAction.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RemoveAction.html#squeezeLines">squeezeLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RemoveAction.html#squeezeSpaces">squeezeSpaces</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ReplaceAction.html">ReplaceAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceAction.html#calculatePositions">calculatePositions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceAction.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceAction.html#removeBraces">removeBraces</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceAction.html#removeComma">removeComma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceAction.html#removeSpace">removeSpace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceAction.html#rewrittenSource">rewrittenSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceAction.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceAction.html#squeezeLines">squeezeLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceAction.html#squeezeSpaces">squeezeSpaces</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ReplaceWithAction.html">ReplaceWithAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceWithAction.html#calculatePositions">calculatePositions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceWithAction.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceWithAction.html#removeBraces">removeBraces</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceWithAction.html#removeComma">removeComma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceWithAction.html#removeSpace">removeSpace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceWithAction.html#rewrittenSource">rewrittenSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceWithAction.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceWithAction.html#squeezeLines">squeezeLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ReplaceWithAction.html#squeezeSpaces">squeezeSpaces</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Rewriter.html">Rewriter</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#.call">call</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#.fetch">fetch</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#.register">register</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#addSnippet">addSnippet</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#description">description</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#ifNode">ifNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#ifNpm">ifNpm</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#process">process</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#processWithSandbox">processWithSandbox</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#withinFile">withinFile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#withinFile">withinFile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Rewriter.html#withinFiles">withinFiles</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RewriterNotFoundError.html">RewriterNotFoundError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Scope.html">Scope</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="UnlessExistCondition.html">UnlessExistCondition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UnlessExistCondition.html#match">match</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UnlessExistCondition.html#process">process</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="WithinScope.html">WithinScope</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WithinScope.html#process">process</a></span></li><li class="nav-heading">Externals</li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-Array.html">Array</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-Node.html">Node</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#indent">indent</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">action.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CommentOutAction = exports.ReplaceWithAction = exports.ReplaceAction = exports.RemoveAction = exports.DeleteAction = exports.InsertAction = exports.PrependAction = exports.AppendAction = exports.Action = void 0;
/**
 * Action does some real actions, e.g. insert / replace / delete code.
 */
class Action {
    /**
     * Create an Action.
     * @param {Instance} instance
     * @param {string} code - new code to insert, replace or delete
     */
    constructor(instance, code) {
        this.instance = instance;
        this.code = code;
        this.beginPos = -1;
        this.endPos = -1;
        this.node = this.instance.currentNode;
    }
    /**
     * Calculate begin and end positions, and return this.
     * @returns {Action} this
     */
    process() {
        this.calculatePositions();
        return this;
    }
    /**
     * The rewritten source code.
     * @protected
     * @returns {string} rewritten source code.
     */
    rewrittenSource() {
        return this.node.rewrittenSource(this.code);
    }
    /**
     * Get the source code of this node.
     * @protected
     * @returns source code of this node.
     */
    source() {
        return this.node.fileContent();
    }
    /**
     * Squeeze spaces from source code.
     * @protected
     */
    squeezeSpaces() {
        const beforeCharIsSpace = this.source()[this.beginPos - 1] === " ";
        const afterCharIsSpace = this.source()[this.endPos] == " ";
        if (beforeCharIsSpace &amp;&amp; afterCharIsSpace) {
            this.beginPos = this.beginPos - 1;
        }
    }
    /**
     * Squeeze empty lines from source code.
     * @protected
     */
    squeezeLines() {
        const lines = this.source().split("\n");
        const beginLine = this.node.loc.start.line;
        const endLine = this.node.loc.end.line;
        const beforeLineIsBlank = endLine === 1 || lines[beginLine - 2] === "";
        const afterLineIsBlank = lines[endLine] === "";
        if (lines.length > 1 &amp;&amp; beforeLineIsBlank &amp;&amp; afterLineIsBlank) {
            this.endPos = this.endPos + "\n".length;
        }
    }
    /**
     * Remove unused braces.
     * e.g. `foobar({ foo: bar })`, if we remove `foo: bar`, braces should also be removed.
     * @protected
     */
    removeBraces() {
        if (this.prevTokenIs("{") &amp;&amp; this.nextTokenIs("}")) {
            this.beginPos = this.beginPos - 1;
            this.endPos = this.endPos + 1;
        }
        else if (this.prevTokenIs("{ ") &amp;&amp; this.nextTokenIs(" }")) {
            this.beginPos = this.beginPos - 2;
            this.endPos = this.endPos + 2;
        }
        else if (this.prevTokenIs("{") &amp;&amp; this.nextTokenIs(" }")) {
            this.beginPos = this.beginPos - 1;
            this.endPos = this.endPos + 2;
        }
        else if (this.prevTokenIs("{ ") &amp;&amp; this.nextTokenIs("}")) {
            this.beginPos = this.beginPos - 2;
            this.endPos = this.endPos + 1;
        }
    }
    /**
     * Rmove unused comma.
     * e.g. `foobar(foo, bar)`, if we remove `foo`, the comma should also be removed,
     * the code should be changed to `foobar(bar)`.
     * @protected
     */
    removeComma() {
        if (this.prevTokenIs(",")) {
            this.beginPos = this.beginPos - 1;
        }
        else if (this.prevTokenIs(", ")) {
            this.beginPos = this.beginPos - 2;
        }
        else if (this.nextTokenIs(", ") &amp;&amp; !this.startWith(":")) {
            this.endPos = this.endPos + 2;
        }
        else if (this.nextTokenIs(",") &amp;&amp; !this.startWith(":")) {
            this.endPos = this.endPos + 1;
        }
    }
    /**
     * Remove unused space.
     * e.g. `&lt;div foo='bar'>foobar&lt;/div>`, if we remove `foo='bar`, the space should also be removed,
     * the code shoulde be changed to `&lt;div>foobar&lt;/div>`.
     * @protected
     */
    removeSpace() {
        // this happens when removing a property in jsx element.
        const beforeCharIsSpace = this.source()[this.beginPos - 1] === " ";
        const afterCharIsGreatThan = this.source()[this.endPos] == ">";
        if (beforeCharIsSpace &amp;&amp; afterCharIsGreatThan) {
            this.beginPos = this.beginPos - 1;
        }
    }
    /**
     * Check if next token is substr.
     * @private
     * @param {string} substr
     * @returns {boolean} true if next token is equal to substr
     */
    nextTokenIs(substr) {
        return this.source().slice(this.endPos, this.endPos + substr.length) === substr;
    }
    /**
     * Check if previous token is substr.
     * @private
     * @param {string} substr
     * @returns {boolean} true if previous token is equal to substr
     */
    prevTokenIs(substr) {
        return this.source().slice(this.beginPos - substr.length, this.beginPos) === substr;
    }
    /**
     * Check if the node source starts with semicolon.
     * @private
     * @param {string} substr
     * @returns {boolean} true if the node source starts with semicolon
     */
    startWith(substr) {
        return this.source().slice(this.beginPos, this.beginPos + substr.length) === substr;
    }
}
exports.Action = Action;
/**
 * AppendAction to append code to the bottom of node body.
 * @extends Action
 */
class AppendAction extends Action {
    /**
     * Calculate the begin and end positions.
     * @protected
     */
    calculatePositions() {
        this.beginPos = this.node.end - this.node.indent() - "}".length;
        this.endPos = this.beginPos;
    }
    /**
     * The rewritten source code.
     * @returns {string} rewritten code.
     */
    get rewrittenCode() {
        const source = this.rewrittenSource();
        const indent = this.node.type == "Program" ? "" : " ".repeat(this.node.indent() + 2);
        if (source.split("\n").length > 1) {
            return (source
                .split("\n")
                .map((line) => indent + line)
                .join("\n") + "\n");
        }
        else {
            return indent + source + "\n";
        }
    }
}
exports.AppendAction = AppendAction;
/**
 * PrependAction to prepend code to the top of node body.
 * @extends Action
 */
class PrependAction extends Action {
    /**
     * Calculate the begin and end positions.
     * @protected
     */
    calculatePositions() {
        this.beginPos = this.node.body.start + "{\n".length;
        this.endPos = this.beginPos;
    }
    /**
     * The rewritten source code.
     * @returns {string} rewritten code.
     */
    get rewrittenCode() {
        const source = this.rewrittenSource();
        const indent = this.node.type == "Program" ? "" : " ".repeat(this.node.indent() + 2);
        if (source.split("\n").length > 1) {
            return (source
                .split("\n")
                .map((line) => indent + line)
                .join("\n") + "\n");
        }
        else {
            return indent + source + "\n";
        }
    }
}
exports.PrependAction = PrependAction;
/**
 * InsertAction to add code to the node.
 * @extends Action
 */
class InsertAction extends Action {
    /**
     * Create an InsertAction
     * @param {Instance} instance
     * @param {string} code - new code to be inserted
     * @param {Object} options - position to insert code
     */
    constructor(instance, code, options) {
        super(instance, code);
        this.at = options.at;
        this.selector = options.to;
    }
    /**
     * Calculate the begin and end positions.
     * @protected
     */
    calculatePositions() {
        const range = this.selector ? this.node.childNodeRange(this.selector) : this.node;
        this.beginPos = this.at === "beginning" ? range.start : range.end;
        this.endPos = this.beginPos;
    }
    /**
     * The rewritten source code.
     * @returns {string} rewritten code.
     */
    get rewrittenCode() {
        return this.rewrittenSource();
    }
}
exports.InsertAction = InsertAction;
/**
 * DeleteAction to delete child node.
 * @extends Action
 */
class DeleteAction extends Action {
    /**
     * Create a DeleteAction
     * @param {Instance} instance
     * @param {string|string[]} selectors - name of child nodes
     */
    constructor(instance, selectors) {
        super(instance, "");
        this.selectors = Array.isArray(selectors) ? selectors : Array(selectors);
    }
    /**
     * Calculate the begin and end positions.
     * @protected
     */
    calculatePositions() {
        this.beginPos = Math.min(...this.selectors.map((selector) => this.node.childNodeRange(selector).start));
        this.endPos = Math.max(...this.selectors.map((selector) => this.node.childNodeRange(selector).end));
        this.squeezeSpaces();
        this.removeBraces();
        this.removeComma();
        this.removeSpace();
    }
    /**
     * The rewritten code, always empty string.
     */
    get rewrittenCode() {
        return "";
    }
}
exports.DeleteAction = DeleteAction;
/**
 * RemoveAction to remove current node.
 * @extends Action
 */
class RemoveAction extends Action {
    /**
     * Create a RemoveAction
     * @param {Instance} instance
     */
    constructor(instance) {
        super(instance, "");
    }
    /**
     * Calculate the begin and end positions.
     * @protected
     */
    calculatePositions() {
        if (this.takeWholeLine()) {
            const lines = this.source().split("\n");
            const beginLine = this.node.loc.start.line;
            const endLine = this.node.loc.end.line;
            this.beginPos = lines.slice(0, beginLine - 1).join("\n").length + (beginLine === 1 ? 0 : "\n".length);
            this.endPos = lines.slice(0, endLine).join("\n").length;
            if (lines.length > endLine) {
                this.endPos = this.endPos + "\n".length;
            }
            this.squeezeLines();
        }
        else {
            this.beginPos = this.node.start;
            this.endPos = this.node.end;
            this.squeezeSpaces();
            this.removeBraces();
            this.removeComma();
            this.removeSpace();
        }
    }
    /**
     * The rewritten code, always empty string.
     */
    get rewrittenCode() {
        return "";
    }
    /**
     * Check if the source code of this node takes the whole line.
     * @private
     * @returns {boolean}
     */
    takeWholeLine() {
        const sourceFromFile = this.source()
            .split("\n")
            .slice(this.node.loc.start.line - 1, this.node.loc.end.line)
            .join("\n")
            .trim();
        return (this.node.toSource() === sourceFromFile ||
            this.node.toSource() + ";" === sourceFromFile ||
            this.node.toSource() + "," === sourceFromFile);
    }
}
exports.RemoveAction = RemoveAction;
/**
 * ReplaceAction to replace child node with code.
 * @extends Action
 */
class ReplaceAction extends Action {
    /**
     * Create a ReplaceAction
     * @param {Instance} instance
     * @param {string|string[]} selectors - name of child nodes
     * @param {Object} options - { with } new code to be replaced
     */
    constructor(instance, selectors, options) {
        super(instance, options.with);
        this.selectors = Array.isArray(selectors) ? selectors : Array(selectors);
    }
    /**
     * Calculate the begin and end positions.
     * @protected
     */
    calculatePositions() {
        this.beginPos = Math.min(...this.selectors.map((selector) => this.node.childNodeRange(selector).start));
        this.endPos = Math.max(...this.selectors.map((selector) => this.node.childNodeRange(selector).end));
    }
    /**
     * The rewritten source code.
     * @returns {string} rewritten code.
     */
    get rewrittenCode() {
        return this.rewrittenSource();
    }
}
exports.ReplaceAction = ReplaceAction;
/**
 * ReplaceWithAction to replace code.
 * @extends Action
 */
class ReplaceWithAction extends Action {
    /**
     * Create a ReplaceWithAction
     * @param {Instance} instance
     * @param {string} code - new code to be replaced
     * @param {Object} options - default is { autoIndent: true } if auto fix indent
     */
    constructor(instance, code, options = { autoIndent: true }) {
        super(instance, code);
        this.autoIndent = options.autoIndent;
    }
    /**
     * Calculate the begin and end positions.
     * @protected
     */
    calculatePositions() {
        if (this.autoIndent) {
            this.beginPos = this.node.start;
        }
        else {
            this.beginPos = this.node.start - this.node.loc.start.column;
        }
        this.endPos = this.node.end;
    }
    /**
     * The rewritten source code.
     * @returns {string} rewritten code.
     */
    get rewrittenCode() {
        if (this.autoIndent &amp;&amp; this.rewrittenSource().includes("\n")) {
            const newCode = [];
            this.rewrittenSource()
                .split("\n")
                .forEach((line, index) => {
                if (index === 0 || line === "") {
                    newCode.push(line);
                }
                else {
                    newCode.push(" ".repeat(this.node.indent()) + line);
                }
            });
            return newCode.join("\n");
        }
        else {
            return this.rewrittenSource();
        }
    }
}
exports.ReplaceWithAction = ReplaceWithAction;
/**
 * CommentOutAction comments out a block of code.
 * @extends Action
 */
class CommentOutAction extends Action {
    /**
     * Create a CommentOutAction
     * @param {Instance} instance
     */
    constructor(instance) {
        super(instance, "");
    }
    /**
     * Calculate the begin and end positions.
     * @protected
     */
    calculatePositions() {
        this.beginPos = this.node.start;
        this.endPos = this.node.end;
    }
    /**
     * The rewritten source code.
     * @returns {string} rewritten code.
     */
    get rewrittenCode() {
        const lines = (" ".repeat(this.node.loc.end.column - 1) + this.node.toSource()).split("\n");
        const column = Math.min(...lines.map((line) => line.search(/\S/)));
        return lines.map((line) => (column > -1 ? line.slice(0, column) + "// " + line.slice(column) : line)).join("\n");
    }
}
exports.CommentOutAction = CommentOutAction;
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Sat May 28 2022 01:44:36 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
